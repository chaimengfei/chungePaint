# 春歌涂料小程序测试用例文档

## 📋 测试环境说明

- **测试环境**: 本地开发环境 (http://192.168.1.3:8009)
- **测试平台**: 微信开发者工具
- **测试范围**: 前端功能测试（后端接口已部署）

---

## 🎯 测试用例分类

### 1. 用户认证模块 (登录/注册)

#### 1.1 未授权用户场景
| 测试用例ID | 测试场景 | 预期结果 | 可测试性 |
|-----------|---------|---------|---------|
| TC_AUTH_001 | 首次进入小程序，未登录状态 | 显示"未登录"状态，显示登录按钮 | ✅ 可测试 |
| TC_AUTH_002 | 点击"登录/注册"按钮 | 跳转到登录页面 | ✅ 可测试 |
| TC_AUTH_003 | 未登录状态下访问需要权限的页面 | 提示需要登录或跳转到登录页 | ✅ 可测试 |

#### 1.2 登录流程测试
| 测试用例ID | 测试场景 | 预期结果 | 可测试性 |
|-----------|---------|---------|---------|
| TC_AUTH_004 | 点击"微信一键登录"按钮 | 获取微信code、用户信息、地理位置 | ✅ 可测试 |
| TC_AUTH_005 | 用户拒绝授权获取用户信息 | 显示"需要授权获取用户信息"提示 | ✅ 可测试 |
| TC_AUTH_006 | 用户拒绝授权获取地理位置 | 使用默认地理位置(北京)，继续登录 | ✅ 可测试 |
| TC_AUTH_007 | 登录成功 | 显示"登录成功"，返回上一页，更新用户状态 | ✅ 可测试 |
| TC_AUTH_008 | 登录失败 | 显示"登录失败"提示 | ✅ 可测试 |

#### 1.3 已授权用户场景
| 测试用例ID | 测试场景 | 预期结果 | 可测试性 |
|-----------|---------|---------|---------|
| TC_AUTH_009 | 已登录用户进入"我的"页面 | 显示用户头像、昵称，隐藏登录按钮 | ✅ 可测试 |
| TC_AUTH_010 | 已登录用户访问所有页面 | 正常访问，无需重复登录 | ✅ 可测试 |

---

### 2. 商品模块

#### 2.1 商品列表展示
| 测试用例ID | 测试场景 | 预期结果 | 可测试性 |
|-----------|---------|---------|---------|
| TC_PRODUCT_001 | 进入商品首页 | 显示分类列表和商品列表 | ✅ 可测试 |
| TC_PRODUCT_002 | 点击左侧分类 | 右侧商品列表更新为对应分类商品 | ✅ 可测试 |
| TC_PRODUCT_003 | 商品信息展示 | 显示商品图片、名称、价格、单位 | ✅ 可测试 |
| TC_PRODUCT_004 | 无商品时 | 显示"暂无商品"提示 | ✅ 可测试 |

#### 2.2 商品操作功能
| 测试用例ID | 测试场景 | 预期结果 | 可测试性 |
|-----------|---------|---------|---------|
| TC_PRODUCT_005 | 点击"加入购物车" | 商品添加到购物车，显示成功提示 | ✅ 可测试 |
| TC_PRODUCT_006 | 点击"立即购买" | 调用checkout接口，跳转到结算页面 | ✅ 可测试 |
| TC_PRODUCT_007 | 购物车徽标更新 | 购物车图标显示商品数量 | ✅ 可测试 |

---

### 3. 购物车模块

#### 3.1 购物车展示
| 测试用例ID | 测试场景 | 预期结果 | 可测试性 |
|-----------|---------|---------|---------|
| TC_CART_001 | 进入购物车页面 | 显示购物车商品列表 | ✅ 可测试 |
| TC_CART_002 | 购物车为空 | 显示空购物车图片和提示 | ✅ 可测试 |
| TC_CART_003 | 购物车有商品 | 显示商品信息、价格、数量 | ✅ 可测试 |
| TC_CART_004 | 默认地址显示 | 在购物车顶部显示默认地址信息 | ✅ 可测试 |
| TC_CART_005 | 无默认地址 | 显示"请选择收货地址"提示 | ✅ 可测试 |

#### 3.2 购物车操作
| 测试用例ID | 测试场景 | 预期结果 | 可测试性 |
|-----------|---------|---------|---------|
| TC_CART_006 | 选择/取消选择商品 | 更新选中状态，重新计算总价 | ✅ 可测试 |
| TC_CART_007 | 全选/取消全选 | 所有商品选中状态同步更新 | ✅ 可测试 |
| TC_CART_008 | 增加商品数量 | 数量+1，价格重新计算 | ✅ 可测试 |
| TC_CART_009 | 减少商品数量 | 数量-1，最小为1 | ✅ 可测试 |
| TC_CART_010 | 删除商品 | 商品从购物车移除 | ✅ 可测试 |
| TC_CART_011 | 商品库存不足 | 商品置灰，显示库存不足提示 | ✅ 可测试 |
| TC_CART_012 | 点击地址区域 | 跳转到地址列表页面 | ✅ 可测试 |

#### 3.3 购物车结算
| 测试用例ID | 测试场景 | 预期结果 | 可测试性 |
|-----------|---------|---------|---------|
| TC_CART_013 | 有选中商品时点击结算 | 跳转到订单确认页面 | ✅ 可测试 |
| TC_CART_014 | 无选中商品时点击结算 | 提示"请选择要结算的商品" | ✅ 可测试 |
| TC_CART_015 | 无地址时点击结算 | 提示"请选择收货地址" | ✅ 可测试 |

---

### 4. 地址管理模块

#### 4.1 地址列表
| 测试用例ID | 测试场景 | 预期结果 | 可测试性 |
|-----------|---------|---------|---------|
| TC_ADDRESS_001 | 进入地址列表页面 | 显示用户所有收货地址 | ✅ 可测试 |
| TC_ADDRESS_002 | 地址列表为空 | 显示空状态提示 | ✅ 可测试 |
| TC_ADDRESS_003 | 地址信息展示 | 显示收件人姓名、电话、详细地址 | ✅ 可测试 |
| TC_ADDRESS_004 | 默认地址标识 | 默认地址显示"默认"标签 | ✅ 可测试 |

#### 4.2 地址操作
| 测试用例ID | 测试场景 | 预期结果 | 可测试性 |
|-----------|---------|---------|---------|
| TC_ADDRESS_005 | 点击"添加地址" | 跳转到地址编辑页面(新增模式) | ✅ 可测试 |
| TC_ADDRESS_006 | 点击"编辑"按钮 | 跳转到地址编辑页面(编辑模式) | ✅ 可测试 |
| TC_ADDRESS_007 | 点击"删除"按钮 | 确认删除地址 | ✅ 可测试 |
| TC_ADDRESS_008 | 设置默认地址 | 点击单选按钮，更新默认地址 | ✅ 可测试 |
| TC_ADDRESS_009 | 选择地址 | 返回上一页，更新选中地址 | ✅ 可测试 |

#### 4.3 地址编辑
| 测试用例ID | 测试场景 | 预期结果 | 可测试性 |
|-----------|---------|---------|---------|
| TC_ADDRESS_010 | 新增地址 | 填写完整信息，保存成功 | ✅ 可测试 |
| TC_ADDRESS_011 | 编辑地址 | 信息回显，修改后保存 | ✅ 可测试 |
| TC_ADDRESS_012 | 手机号字段 | 编辑模式下手机号不可修改 | ✅ 可测试 |
| TC_ADDRESS_013 | 地区选择 | 点击地区选择器，选择省市区 | ✅ 可测试 |
| TC_ADDRESS_014 | 必填项验证 | 未填写必填项时提示错误 | ✅ 可测试 |
| TC_ADDRESS_015 | 选择性更新 | 只传递修改的字段到后端 | ✅ 可测试 |

---

### 5. 订单模块

#### 5.1 订单确认页面
| 测试用例ID | 测试场景 | 预期结果 | 可测试性 |
|-----------|---------|---------|---------|
| TC_ORDER_001 | 从购物车进入结算 | 显示订单信息、商品列表、地址 | ✅ 可测试 |
| TC_ORDER_002 | 立即购买进入结算 | 显示单个商品订单信息 | ✅ 可测试 |
| TC_ORDER_003 | 订单信息展示 | 显示商品名称、价格、数量、总价 | ✅ 可测试 |
| TC_ORDER_004 | 地址信息展示 | 显示收件人、电话、详细地址 | ✅ 可测试 |
| TC_ORDER_005 | 备注功能 | 可以输入订单备注 | ✅ 可测试 |

#### 5.2 订单支付
| 测试用例ID | 测试场景 | 预期结果 | 可测试性 |
|-----------|---------|---------|---------|
| TC_ORDER_006 | 点击"立即支付" | 获取微信code，调用支付接口 | ✅ 可测试 |
| TC_ORDER_007 | 支付成功 | 显示"支付成功"，跳转订单详情 | ✅ 可测试 |
| TC_ORDER_008 | 支付失败 | 显示支付失败原因 | ✅ 可测试 |
| TC_ORDER_009 | 无地址时支付 | 提示"请选择收货地址" | ✅ 可测试 |

#### 5.3 订单列表
| 测试用例ID | 测试场景 | 预期结果 | 可测试性 |
|-----------|---------|---------|---------|
| TC_ORDER_010 | 进入订单列表 | 显示用户所有订单 | ✅ 可测试 |
| TC_ORDER_011 | 订单状态展示 | 显示订单状态(待支付、已支付等) | ✅ 可测试 |
| TC_ORDER_012 | 订单信息展示 | 显示商品信息、价格、时间 | ✅ 可测试 |
| TC_ORDER_013 | 点击订单 | 跳转到订单详情页面 | ✅ 可测试 |

#### 5.4 订单详情
| 测试用例ID | 测试场景 | 预期结果 | 可测试性 |
|-----------|---------|---------|---------|
| TC_ORDER_014 | 进入订单详情 | 显示完整订单信息 | ✅ 可测试 |
| TC_ORDER_015 | 订单状态操作 | 根据状态显示相应操作按钮 | ✅ 可测试 |
| TC_ORDER_016 | 取消订单 | 取消未支付订单 | ✅ 可测试 |
| TC_ORDER_017 | 确认收货 | 确认已发货订单 | ✅ 可测试 |

---

### 6. 用户中心模块

#### 6.1 用户信息
| 测试用例ID | 测试场景 | 预期结果 | 可测试性 |
|-----------|---------|---------|---------|
| TC_USER_001 | 未登录状态 | 显示默认头像、"未登录"文字 | ✅ 可测试 |
| TC_USER_002 | 已登录状态 | 显示用户头像、昵称 | ✅ 可测试 |
| TC_USER_003 | 点击菜单项 | 跳转到对应功能页面 | ✅ 可测试 |

---

### 7. 界面交互测试

#### 7.1 底部导航
| 测试用例ID | 测试场景 | 预期结果 | 可测试性 |
|-----------|---------|---------|---------|
| TC_UI_001 | 点击底部导航 | 正确跳转到对应页面 | ✅ 可测试 |
| TC_UI_002 | 购物车徽标 | 显示购物车商品数量 | ✅ 可测试 |
| TC_UI_003 | 页面切换 | 保持登录状态和用户数据 | ✅ 可测试 |

#### 7.2 页面跳转
| 测试用例ID | 测试场景 | 预期结果 | 可测试性 |
|-----------|---------|---------|---------|
| TC_UI_004 | 页面返回 | 正确返回上一页 | ✅ 可测试 |
| TC_UI_005 | 数据传递 | 页面间正确传递参数 | ✅ 可测试 |
| TC_UI_006 | 页面刷新 | 数据正确刷新和更新 | ✅ 可测试 |

---

## 🚫 当前无法测试的功能

由于后端接口限制，以下功能暂时无法完整测试：

| 功能模块 | 无法测试的原因 | 备注 |
|---------|---------------|------|
| 微信支付 | 需要微信商户号配置 | 支付接口会返回错误 |
| 订单状态流转 | 需要完整的订单流程 | 支付成功后订单状态更新 |
| 库存实时更新 | 需要商品库存管理 | 库存不足提示功能 |
| 用户权限验证 | 需要完整的权限体系 | 某些接口可能需要特定权限 |

---

## 📝 测试执行建议

### 测试顺序建议：
1. **基础功能测试**：登录 → 商品浏览 → 购物车操作
2. **地址管理测试**：添加地址 → 编辑地址 → 设置默认地址
3. **订单流程测试**：购物车结算 → 订单确认 → 支付流程
4. **异常场景测试**：无地址、无商品、网络异常等

### 测试数据准备：
- 准备测试用户账号
- 准备测试商品数据
- 准备测试地址数据

### 测试环境检查：
- 确保后端服务正常运行 (http://192.168.1.3:8009)
- 确保微信开发者工具正常连接
- 确保网络连接正常

---

## 📊 测试结果记录

建议在测试过程中记录以下信息：
- 测试用例执行结果 (通过/失败)
- 发现的问题和bug
- 性能表现
- 用户体验反馈

---

*最后更新时间: 2024年12月*
